# premQL

## 数据类型
    counter 持续增长，累计
    gauge   随机变化的数值
    

## 函数

#### increase
    用来针对counter 持续增长的数据，截取其中一段时间的增量
    increase(node_cpu[1m])  cpu总使用时间再1m内的增量
    示例：
    cpu总使用率，如果有多个实例，可以配合by来使用
    1 - sum(increase(node_cpu_seconds_total{mode="idle"}[1m])) / sum(increase(node_cpu_seconds_total[1m]))
    


#### rate
    搭配 counter数据来使用
    求选定范围时间内的 平均每秒的增量
    rate(xx[1m])    表示 1m时间内，平均每秒的增量

    
#### by
    sum(...) by(instance)
    将 按照 instance分组之后 sum
    
    
#### 